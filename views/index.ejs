<!DOCTYPE html>
<html ng-app='JobbedOut'>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <script src="/javascripts/app.js"></script>
    <script src="/javascripts/jobsController.js"></script>
    <script src="/javascripts/jobView.js"></script>
  </head>
  <body ng-controller="JobsController as jobCtrl">
    <h1><%= title %></h1>

    <form action="" ng-submit="jobCtrl.searchJobs($event)">
      <input type="search" id="search-title" placeholder="Search by Title" ng-model="searchTitle">
      <input type="search" id="search-company" placeholder="Search by Company" ng-model="searchCompany">
      Sort by:
      <select id="sort" ng-model="sort" ng-change="jobCtrl.sortJobs(sort)">
        <option value="">Choose...</option>
        <option value="createdAt">Created At</option>
        <option value="title">Title</option>
        <option value="company">Company</option>
      </select>
      <input type="submit" id="submit" value="Submit" ng-hide="true" />
    </form>

    <section id="jobs-container">
      <button id="add-job">Add a Job</button>
      <ul id="jobList" ng-repeat="job in jobCtrl.data.docs">
        <job />
      </ul>

      <button id="load-more" ng-click="jobCtrl.loadMore()">Load More</button>
    </section>


  </body>
</html>
